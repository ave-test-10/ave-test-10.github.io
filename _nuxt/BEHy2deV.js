import{f as e,l as a,ah as l,y as t,z as n,v as s,aB as o,Q as r,I as i,r as c,T as d,c as p,o as u,U as x,b as m,am as v,K as f,w as h,F as b,d as g,t as y,C as w,J as k,a as C,B as $,i as I,dK as _,bM as B,$ as T,aO as R,G as A,s as N,E as j,D,Z as M,aZ as E,dJ as U,a2 as S,bE as V,a0 as W,_ as q}from"./CML86CCZ.js";import{E as z,a as F}from"./cRI-bMi8.js";import"./DqMEjhpm.js";import"./CXqc0fGY.js";import{c as J}from"./GgvKmSCE.js";import K from"./BZ-UuiLS.js";import"./B9lkUoID.js";const O={key:0,class:"table-empty"},Q={key:1},Z={key:1,class:"flex-start"},G=["src"],H={key:0,class:"border-solid border-0.5px border-#286dff color-#286dff rounded-4px text-10px px-4px py-1px overflow-hidden text-ellipsis whitespace-nowrap max-w-100px ml-10px line-height-15px"},L=["onMouseenter"],P={key:0,class:"mr-5px"},X={key:1,class:"bg-[--primary-color] rounded-4px text-10px px-4px py-3px overflow-hidden text-ellipsis whitespace-nowrap max-w-100px line-height-19px height-19px"},Y={key:2,class:"bg-[--signal-green] rounded-4px text-10px px-4px py-3px overflow-hidden text-ellipsis whitespace-nowrap max-w-100px line-height-19px height-19px"},ee=["onClick"],ae={class:"font-500 text-12px"},le={key:2},te={class:"flex-between"},ne={class:"text-24px"},se={class:"w-480px flex flex-col items-center justify-center mb-20px"},oe={class:"text-14px color-[--secondary-text] mt-26px"},re={class:"color-[--primary-color] mr-4px text-17px"},ie={class:"mt-26px color-[--main-text] text-14px block"},ce={class:"px-10px py-10px text-14px"},de={class:"color-[var(--third-text)] text-left text-12px"},pe={class:"color-[var(--main-text)] text-left pl-5px"},ue={key:1},xe={class:"color-[var(--third-text)] text-left text-12px"},me={class:"color-[var(--main-text)] text-left pl-5px"},ve={class:"color-[var(--main-text)] text-left pl-5px"},fe={class:"color-[var(--main-text)] text-left pl-5px"},he=q(e({__name:"list",props:{tableData:{type:Array,default:()=>[]},loading:{type:Boolean,default:!1}},emits:["refresh","getMultiWalletsAllChain"],setup(e,{emit:q}){var he,be;const ge=null==(he=a())?void 0:he.parent,ye=null==(be=null==ge?void 0:ge.exposed)?void 0:be.getMultiWalletsAllChain,we=q,{token_logo_url:ke,mode:Ce}=l(t()),{theme:$e}=l(n()),{t:Ie}=s(),_e=o(),{evmAddress:Be}=l(r()),Te=i(!1),Re=c(null),Ae=i(!1),Ne=i(0),je=c(null),De=c({buttonRefs:{},currentBtnRef:{}});function Me(e){E.confirm(Ie("walletRemoveTip2"),Ie("walletRemove"),{type:"warning",icon:U,confirmButtonText:Ie("confirm"),cancelButtonText:Ie("cancel"),customClass:`${Ce.value} delete_confirm`}).then((()=>{var a,l,t;const n=(null==(t=null==(l=null==(a=e.balancesInfo)?void 0:a.filter((e=>"bsc"==e.chain)))?void 0:l[0])?void 0:t.address)||"";J(n).then((()=>{S.success(Ie("success")),we("refresh")}))})).catch((e=>{}))}function Ee(e){Re.value=e,Te.value=!0,setTimeout((()=>{!async function(){var e,a;const l=document.getElementById("qr-chain-canvas-code");if(!l)return;V.toCanvas({canvas:l,content:(null==(e=Re.value)?void 0:e.address)||"",width:200,nodeQrCodeOptions:{margin:2},logo:{src:`${ke.value}chain/${(null==(a=Re.value)?void 0:a.chain)||"bsc"}.png`,logoRadius:8}}).catch((e=>{}))}()}),200)}function Ue(e){if(e.isChildren){const a=_e.resolve({path:`/address/${e.address}/${e.chain}`});window.open(a.href,"_blank")}}const Se=({row:e})=>e.isChildren?"cursor-pointer":"";return(a,l)=>{const t=R,n=w,s=z,o=F,r=j,i=M,c=d("copy"),S=v;return u(),p("div",null,[x((u(),f(o,{data:e.tableData,style:{width:"100%"},"row-key":"id","tree-props":{children:"balancesInfo",hasChildren:"hasChildren"},"default-expand-all":"",class:"table-list hidden-scrollbar bot-manage-table","header-row-class-name":"text-12px sticky top-0 z-10 font-500","row-class-name":Se,onRowClick:Ue},{empty:h((()=>{var a;return[e.loading||0!=(null==(a=e.tableData)?void 0:a.length)?(u(),p("span",Q)):(u(),p("div",O,[m(t)]))]})),default:h((()=>[m(s,{prop:"name",label:"钱包","min-width":200},{default:h((({row:e})=>{var t,s;return[e.isChildren?(u(),p(b,{key:0},[g(y(null==(s=null==(t=e.name)?void 0:t.replace)?void 0:s.call(t,new RegExp("(.{6})(.+)(.{4})"),"$1...$3"))+" ",1),x(m(n,{name:"bxs:copy",class:"ml-5px mb--1px clickable color-[--third-text]",onClick:l[0]||(l[0]=k((()=>{}),["stop"]))},null,512),[[c,e.address]])],64)):(u(),p("div",Z,[C("img",{class:"mr-8px",style:{"border-radius":"50%"},height:"24",src:("generateAvatarIcon"in a?a.generateAvatarIcon:I(_))((null==e?void 0:e.name)||""),alt:""},null,8,G),g(" "+y(e.name)+" ",1),m(K,{remark:e.remark,address:e.evmAddress,chain:"bsc",showAddress:!0,onRefresh:l[1]||(l[1]=e=>we("refresh"))},null,8,["remark","address"]),I(Be)==e.evmAddress?(u(),p("span",H,y(a.$t("currentWallet")),1)):$("",!0)]))]})),_:1}),m(s,{prop:"chain",label:a.$t("chain"),align:"right"},{default:h((({row:e})=>{var l;return[g(y(null==(l=("getChainInfo"in a?a.getChainInfo:I(B))(null==e?void 0:e.chain))?void 0:l.name),1)]})),_:1},8,["label"]),m(s,{prop:"balance",label:a.$t("balance1"),align:"right"},{default:h((({row:e,$index:t})=>[C("div",{ref:e=>I(De).currentBtnRef[t]=e,onMouseenter:a=>function(e,a){var l,t,n;Ae.value=!0,Ne.value=a,je.value={...e},(null==(l=je.value)?void 0:l.balancesInfo)&&(je.value.balancesInfo=null==(n=null==(t=je.value)?void 0:t.balancesInfo)?void 0:n.reduce(((e,a)=>{if(["eth","base"].includes(a.chain)){const l=e.find((e=>"eth"===e.chain));l?l.mainTokenBalance=new W(l.mainTokenBalance).plus(a.mainTokenBalance).toFixed():e.push({...a,chain:"eth"})}else e.push(a);return e}),[]))}(e,t),onMouseleave:l[2]||(l[2]=e=>Ae.value=!1)}," $"+y(("formatNumber"in a?a.formatNumber:I(T))((null==e?void 0:e.balance)||0,2)),41,L)])),_:1},8,["label"]),m(s,{prop:"source",label:a.$t("origin"),align:"right"},{default:h((({row:e})=>[(null==e?void 0:e.isChildren)?$("",!0):(u(),p(b,{key:0},[e.source?(u(),p("span",P,y(e.source),1)):$("",!0),1==e.genSource?(u(),p("span",X,y(a.$t("import")),1)):(u(),p("span",Y,y(a.$t("create")),1))],64))])),_:1},8,["label"]),m(s,{label:a.$t("operate"),align:"right"},{default:h((({row:e})=>["delete"==e.operate&&I(Be)!==e.evmAddress?(u(),f(n,{key:0,class:"text-14px text-[--third-text] cursor-pointer hover:color-[--main-text]",name:"ic:baseline-delete",onClick:k((a=>async function(e){ye&&(await ye(),Number(null==e?void 0:e.balance)>0?E.confirm(Ie("walletRemoveTip1"),Ie("walletRemove"),{type:"warning",icon:U,confirmButtonText:Ie("confirm"),cancelButtonText:Ie("cancel"),customClass:`${Ce.value} delete_confirm`}).then((()=>{Me(e)})):Me(e))}(e)),["stop","prevent"])},null,8,["onClick"])):(null==e?void 0:e.isChildren)?(u(),p("div",{key:1,class:"bg-[--main-input-button-bg] rounded-4px inline-flex items-center gap-4px py-2px px-4px cursor-pointer",onClick:k((a=>Ee(e)),["stop","prevent"])},[m(n,{name:"custom:download",class:"text-10px"}),C("span",ae,y(I(Ie)("deposit2")),1)],8,ee)):(u(),p("span",le))])),_:1},8,["label"])])),_:1},8,["data"])),[[S,e.loading]]),m(r,{modelValue:I(Te),"onUpdate:modelValue":l[4]||(l[4]=e=>N(Te)?Te.value=e:null),width:"500",class:A([I($e)]),"append-to-body":"","close-on-click-modal":!1,"popper-style":{padding:"20px","border-radius":"8px"},"show-close":!1},{header:h((()=>[C("div",te,[C("span",ne,y(a.$t("deposit2")),1),m(n,{name:"material-symbols-light:close",class:"text-30px cursor-pointer",onClick:l[3]||(l[3]=k((e=>Te.value=!1),["stop","prevent"]))})])])),default:h((()=>{var e,t,n;return[C("div",se,[l[6]||(l[6]=C("canvas",{id:"qr-chain-canvas-code"},null,-1)),C("div",oe,[C("span",re,y(null==(t=("getChainInfo"in a?a.getChainInfo:I(B))((null==(e=I(Re))?void 0:e.chain)||""))?void 0:t.name),1),g(y(a.$t("walletAddress")),1)]),C("span",ie,y(null==(n=I(Re))?void 0:n.address),1)])]})),_:1},8,["modelValue","class"]),m(i,{visible:I(Ae),"onUpdate:visible":l[5]||(l[5]=e=>N(Ae)?Ae.value=e:null),"virtual-ref":I(De).currentBtnRef[I(Ne)],"virtual-triggering":"",trigger:"contextmenu",placement:"right","popper-class":"text-center","popper-style":{padding:0,"border-radius":"8px"}},{default:h((()=>{var e,t,n,s,o,r,i;return[C("table",ce,[C("tbody",null,[(null==(e=I(je))?void 0:e.balancesInfo)?(u(!0),p(b,{key:0},D(null==(t=I(je))?void 0:t.balancesInfo,((e,l)=>{var t;return u(),p("tr",{key:l},[C("td",de,y(null==(t=("getChainInfo"in a?a.getChainInfo:I(B))((null==e?void 0:e.chain)||""))?void 0:t.main_name),1),C("td",pe,y(("formatNumber"in a?a.formatNumber:I(T))((null==e?void 0:e.mainTokenBalance)||0,2)),1)])})),128)):(u(),p("tr",ue,[C("td",xe,y((null==(s=("getChainInfo"in a?a.getChainInfo:I(B))((null==(n=I(je))?void 0:n.chain)||""))?void 0:s.main_name)||a.$t("mainToken")),1),C("td",me,y(("formatNumber"in a?a.formatNumber:I(T))((null==(o=I(je))?void 0:o.mainTokenBalance)||0,2)),1)])),C("tr",null,[l[7]||(l[7]=C("td",{class:"color-[var(--third-text)] text-left text-12px"},"USDT",-1)),C("td",ve,y(("formatNumber"in a?a.formatNumber:I(T))((null==(r=I(je))?void 0:r.usdtTokenBalance)||0,2)),1)]),C("tr",null,[l[8]||(l[8]=C("td",{class:"color-[var(--third-text)] text-left text-12px"},"USDC",-1)),C("td",fe,y(("formatNumber"in a?a.formatNumber:I(T))((null==(i=I(je))?void 0:i.usdcTokenBalance)||0,2)),1)])])])]})),_:1},8,["visible","virtual-ref"])])}}}),[["__scopeId","data-v-309391d8"]]);export{he as default};
