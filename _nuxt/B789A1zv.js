import{f as e,ah as a,y as t,Q as s,v as l,r as o,g as r,c as n,B as i,i as c,o as p,U as u,bg as d,a as v,b as m,t as f,C as x,F as y,D as g,K as h,b_ as k,N as b,H as w,J as C,w as _,d as $,a2 as A,p as B,h0 as D,_ as I}from"./CML86CCZ.js";import{d as S}from"./GgvKmSCE.js";const T={class:"tabs"},U={class:"text-14px color-[--main-text]"},z={class:"text-12px color-[--third-text] mt-8px"},V={class:"import part mt-24px"},j={class:"text-12px color-[--secondary-text] mb-10px block"},E={class:"grid grid-cols-3 gap-2"},K={class:"error-message"},P={key:0},H={class:"flex-between"},W=I(e({__name:"import",emits:["refresh"],setup(e,{emit:I}){const W=I,{showImport:Z}=a(t()),F=s(),{t:J}=l(),L=o(!1),N=o(Array(12).fill("")),Q=o([]),R=o(""),q=r((()=>N.value.join(" ").trim()));r((()=>N.value.every((e=>""!==e.trim()))));const G=()=>{var e;if(N.value.some((e=>!e.trim())))return void(R.value=J("importTip1eTips2"));L.value=!0;const a=(null==(e=null==F?void 0:F.userInfo)?void 0:e.tgUid)||"",t=function(e,a){const t=D.enc.Base64.stringify(D.enc.Utf8.parse(e)),s=D.SHA256(a),l=D.lib.WordArray.create(s.words.slice(0,4));return D.AES.encrypt(t,s,{mode:D.mode.CBC,iv:l,padding:D.pad.Pkcs7}).ciphertext.toString(D.enc.Base64)}(q.value,a);S(t).then((e=>{A.success(J("success")),W("refresh"),Z.value=!1,M()})).catch((e=>{A.error(String(e))})).finally((()=>{L.value=!1}))};function M(){N.value=Array(12).fill(""),R.value=""}return(e,a)=>{const t=x,s=b,l=w;return c(Z)?(p(),n("div",{key:0,class:"pop-right",onClick:a[2]||(a[2]=e=>Z.value=!1)},[u(v("div",{class:"content",style:{flex:"1","max-width":"450px","overflow-y":"auto","overflow-x":"hidden"},onClick:a[1]||(a[1]=C((()=>{}),["stop","prevent"]))},[v("div",T,[v("div",null,f(e.$t("importWallet")),1),m(t,{name:"line-md:close",class:"text-20px color-[--main-text]",onClick:a[0]||(a[0]=e=>Z.value=!1)})]),v("div",null,[v("span",U,f(e.$t("allChain"))+" "+f(e.$t("automaticRecognition")),1),v("div",z,f(e.$t("importBotTip")),1)]),v("div",V,[v("span",j,f(e.$t("mnemonic")),1),v("div",E,[(p(!0),n(y,null,g(c(N),((e,a)=>(p(),h(s,{ref_for:!0,ref_key:"inputs",ref:Q,key:a,modelValue:c(N)[a],"onUpdate:modelValue":e=>c(N)[a]=e,class:"input",placeholder:`${a+1}`,onInput:e=>((e,a)=>{let t=e.replace(/[^a-zA-Z]/g,"").toLowerCase();N.value[a]=t,e=t,12==(null==N?void 0:N.value.length)&&(R.value="")})(e,a),onKeydown:k((e=>{return s=a,void(" "!==(t=e).key&&"Enter"!==(null==t?void 0:t.key)||(t.preventDefault(),B((()=>{var e;return null==(e=Q.value[s+1])?void 0:e.focus()}))));var t,s}),["enter"]),onPaste:e=>(e=>{var a;const t=e.clipboardData.getData("text").trim(),s=null==(a=null==t?void 0:t.replace(/\s+/g," "))?void 0:a.split(" ");12==(null==s?void 0:s.length)&&(e.preventDefault(),/^[a-zA-Z\s]+$/.test(t)?s.forEach(((e,a)=>{N.value[a]=e})):A.error(J("importTip1eTips")))})(e)},null,8,["modelValue","onUpdate:modelValue","placeholder","onInput","onKeydown","onPaste"])))),128))]),v("div",K,[c(R)?(p(),n("span",P,f(c(R)),1)):i("",!0)]),v("div",H,[m(l,{class:"width100 button",size:"small",onClick:C(M,["stop","prevent"])},{default:_((()=>[$(f(e.$t("reset")),1)])),_:1}),m(l,{class:"width100 button",block:"",size:"small",type:"primary",loading:c(L),onClick:C(G,["stop"])},{default:_((()=>[$(f(e.$t("confirm")),1)])),_:1},8,["loading"])])])],512),[[d,c(Z)]])])):i("",!0)}}}),[["__scopeId","data-v-4b9029e7"]]);export{W as default};
