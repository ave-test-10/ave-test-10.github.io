import{_ as e,v as l,ah as a,y as t,r as o,g as s,m as i,h8 as n,n as r,c as d,o as u,a as c,i as v,h9 as p,aK as m,$ as h,f as b,ay as f,bP as y,I as g,Q as x,R as _,cg as w,T as k,K as L,bH as S,s as N,w as F,t as $,b as C,C as A,G as T,a5 as B,U as E,F as j,D as I,B as P,a8 as V,cs as z,ad as R,af as O,a2 as D,bI as M,ae as U,bK as H,ai as W,aj as q,q as G,d as K,J as Q,bN as Y,P as J,cR as Z,O as X,a0 as ee,bg as le,a4 as ae,iE as te,mB as oe,mA as se,mD as ie,mz as ne,my as re,M as de,p as ue,am as ce,aI as ve,aJ as pe,aM as me,aN as he,aA as be,bL as fe,aQ as ye,bo as ge,h as xe,e7 as _e,aE as we,d3 as ke}from"./CML86CCZ.js";import{g as Le,a as Se,b as Ne,c as Fe,_ as $e,L as Ce,s as Ae,d as Te,e as Be,f as Ee,h as je,i as Ie,j as Pe}from"./DCWkt1v2.js";import{i as Ve}from"./I94el4d-.js";import{v as ze}from"./_R2nDvl_.js";import{a as Re,E as Oe}from"./CnMoB8fI.js";import{a as De,E as Me}from"./cRI-bMi8.js";import{_ as Ue}from"./IknUNqOA.js";import"./DqMEjhpm.js";import"./CXqc0fGY.js";import"./CxG-objw.js";import"./B9lkUoID.js";import"./DdKtH6BQ.js";import"./B4qDYvAi.js";import"./CAFePdX7.js";import"./yWnJuxPc.js";import"./qZJF6wdJ.js";import"./CzSBT5fu.js";import"./Oo9vXgQY.js";import"./CwjF77Jo.js";import"./EGY3-mSv.js";import"./DgHIe1wU.js";import"./UdISz0Bv.js";import"./n2Spmikn.js";import"./DCm86YKL.js";import"./BRL5tipR.js";import"./DGK_jgIL.js";import"./D8Swakap.js";import"./gZ2D8nMR.js";import"./BujU7KPb.js";const He={class:"chart-container"},We=["id"],qe=e({__name:"lineS",props:{dataList:{type:Array,default:()=>[]},showSeries:{type:Array,default:()=>[]},loading:Boolean,showLeft:Boolean},setup(e){const{t:h}=l(),b=e,{mode:f,lang:y}=a(t()),g=o(`chart-${ze()}`),x=s((()=>[{k:1,color:"#3F80F7",label:h("add"),value:"value1",areaStyle:{color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"rgb(40, 109, 255, 0.9)"},{offset:1,color:"light"===f.value?"#fff":"rgb(23, 25, 28)"}],globalCoord:!1}}}])),_=s((()=>b.dataList.map((e=>e.time)))),w=s((()=>x.value.map((e=>({name:e.label,type:"line",z:1,symbol:"none",itemStyle:{color:e.color},lineStyle:{width:2},emphasis:{disabled:!0,focus:"series"},areaStyle:e.areaStyle,data:b.dataList.map((l=>l[e.value]))}))))),k=()=>{if(!document.getElementById(g.value))return;let e=n(document.getElementById(g.value));e||(e=p(document.getElementById(g.value),null,{renderer:"svg"})),e.hideLoading(),e.showLoading({maskColor:"rgba(255, 255, 255, 0)",text:""});const l={legend:{show:!1,bottom:0,itemWidth:10,itemHeight:10,icon:"circle",textStyle:{color:"#787B86",fontSize:12}},tooltip:{trigger:"axis",backgroundColor:"light"===f.value?"#F5F5F5":"#17191C",textStyle:{fontSize:10,color:"#959A9F",fontFamily:"Poppins"},borderWidth:0,formatter:function(e){let l=e[0].name+"<br>";return e.forEach((e=>{l+=`${e.marker} ${e.seriesName}: <span style="color:${"light"===f.value?"#17191C":"#F5F5F5"}">${m(e.value||0,2)}</span><br>`})),l},appendToBody:!0},grid:{left:"0",right:"0",top:"0",bottom:"0",tooltip:{show:!1,axisPointer:{type:"cross"}}},xAxis:{type:"category",data:_.value,boundaryGap:!1,splitLine:{show:!1},show:!1,axisTick:{show:!1},axisLabel:{color:"light"===f.value?"#999":"#666",fontFamily:"Poppins"},nameTextStyle:{fontSize:12},axisLine:{lineStyle:{color:"#1c1c1c"}}},yAxis:{type:"value",position:"right",name:"",show:!1,nameTextStyle:{fontSize:12},axisLine:{show:!1},axisTick:{show:!1},axisLabel:{color:"light"===f.value?"#999":"#666",fontFamily:"Poppins",formatter:"{value}"},splitLine:{show:!1},min:e=>parseInt(1*e.min),max:e=>Math.ceil(e.max)},series:w.value};e.setOption(l),b.dataList&&b.dataList.length>0&&e.hideLoading()},L=(e,l)=>{const a=n(document.getElementById(g.value));a&&a.dispatchAction({type:e?"legendSelect":"legendUnSelect",name:x.value[l].label})};return i((()=>b.loading),(e=>{const l=n(document.getElementById(g.value));l&&(e?(l.hideLoading(),l.showLoading({maskColor:"rgba(255, 255, 255, 0)",text:""})):l.hideLoading())})),i((()=>b.dataList),(()=>{k()})),i((()=>b.showSeries[0]),(e=>{L(e,0)})),i((()=>b.showSeries[1]),(e=>{L(e,1)})),i((()=>b.showSeries[2]),(e=>{L(e,2)})),i((()=>b.showSeries[3]),(e=>{L(e,3)})),i([f,y],(()=>{k()})),i((()=>b.showLeft),(e=>{setTimeout((()=>{const e=n(document.getElementById(g.value));e&&e.resize()}),100)})),r((()=>{k()})),(e,l)=>(u(),d("div",He,[c("div",{id:v(g),style:{height:"100%",width:"100%"}},null,8,We)]))}},[["__scopeId","data-v-cbca0302"]]);function Ge(e,l="value"){const a=e.length;for(let t=0;t<a;t++)if(-1===e[t][l]){let o=t-1;for(;o>=0&&-1===e[o][l];)o--;if(o>=0)e[t][l]=e[o][l];else{let o=t+1;for(;o<a&&-1===e[o][l];)o++;o<a&&(e[t][l]=e[o][l])}}return e}const Ke={class:"chart-container"},Qe=["id"],Ye=e({__name:"line",props:{dataList:{type:Array,default:()=>[]},showSeries:{type:Array,default:()=>[]},loading:Boolean,showLeft:Boolean},setup(e){const{t:m}=l(),b=e,{mode:f,lang:y}=a(t()),g=o(`chart-${ze()}`),x=s((()=>[{k:1,color:"#286DFF",label:m("addressCount"),value:"value1",areaStyle:{color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"rgb(40, 109, 255, 0.9)"},{offset:1,color:"light"===f.value?"#fff":"rgb(23, 25, 28)"}],globalCoord:!1}}}])),_=s((()=>b.dataList.map((e=>e.time)))),w=s((()=>x.value.map((e=>({name:e.label,type:"line",z:1,smooth:!0,symbolSize:1,itemStyle:{color:e.color},lineStyle:{width:2},emphasis:{disabled:!0,focus:"series"},areaStyle:e.areaStyle,data:b.dataList.map((l=>l[e.value]))}))))),k=()=>{if(!document.getElementById(g.value))return;let e=n(document.getElementById(g.value));e||(e=p(document.getElementById(g.value),null,{renderer:"svg"})),e.hideLoading(),e.showLoading({maskColor:"rgba(255, 255, 255, 0)",text:""});const l={title:{textStyle:{color:"light"===f.value?"#333":"#F5F5F5",fontSize:16,fontFamily:"Poppins",fontWeight:400},text:m("holdersChange")},tooltip:{trigger:"axis",backgroundColor:"light"===f.value?"#F2F2F2":"#333",textStyle:{fontSize:12,color:"light"===f.value?"#666":"#999",fontFamily:"Poppins"},padding:[6,8],axisPointer:{label:{show:!1}},borderWidth:0,formatter:function(e){let l=e[0].name+"<br>";return e.forEach((e=>{l+=`<div style="display:flex;align-items:center;width:100%; gap:8px"><div>${e.marker} ${e.seriesName}</div><span style="color:${"light"===f.value?"#333":"#F5F5F5"}">${e.value}</span><br></div>`})),l},appendToBody:!0},grid:{left:"20",right:"20",top:"40",bottom:"20",containLabel:!0,tooltip:{axisPointer:{type:"line"}}},xAxis:{type:"category",data:_.value,boundaryGap:["0","20"],splitLine:{show:!1},axisTick:{show:!1},axisLabel:{color:"light"===f.value?"#999":"#666",fontFamily:"Poppins",formatter:function(e){const[l,a]=e.split(" ");return`${a}\n${l}`}},nameTextStyle:{fontSize:12},axisLine:{show:!1}},yAxis:{type:"value",position:"right",name:"",nameTextStyle:{fontSize:12},axisLine:{show:!1},axisTick:{show:!1},axisLabel:{color:"light"===f.value?"#999":"#666",fontFamily:"Poppins",formatter:function(e){return h(e,4)}},splitLine:{lineStyle:{type:"dashed",color:"light"===f.value?"#F5F5F5":"#333"},show:!0},min:e=>parseInt(1*e.min),max:e=>Math.ceil(e.max)},series:w.value};e.setOption(l),b.dataList&&b.dataList.length>0&&e.hideLoading()},L=(e,l)=>{const a=n(document.getElementById(g.value));a&&a.dispatchAction({type:e?"legendSelect":"legendUnSelect",name:x.value[l].label})};return i((()=>b.loading),(e=>{const l=n(document.getElementById(g.value));l&&(e?(l.hideLoading(),l.showLoading({maskColor:"rgba(255, 255, 255, 0)",text:""})):l.hideLoading())})),i((()=>b.dataList),(()=>{k()})),i((()=>b.showSeries[0]),(e=>{L(e,0)})),i((()=>b.showSeries[1]),(e=>{L(e,1)})),i((()=>b.showSeries[2]),(e=>{L(e,2)})),i((()=>b.showSeries[3]),(e=>{L(e,3)})),i([f,y],(()=>{k()})),i((()=>b.showLeft),(e=>{setTimeout((()=>{const e=n(document.getElementById(g.value));e&&e.resize()}),100)})),r((()=>{k()})),(e,l)=>(u(),d("div",Ke,[c("div",{id:v(g),class:"w-440px h-210px"},null,8,Qe)]))}},[["__scopeId","data-v-6d60bfd7"]]),Je={class:"chart-container"},Ze=["id"],Xe=e({__name:"line2",props:{dataList:{type:Array,default:()=>[]},showSeries:{type:Array,default:()=>[]},activeTime:{type:String,default:"1m"},loading:Boolean,showLeft:Boolean},setup(e){const{t:m}=l(),b=e,{mode:f,lang:y}=a(t()),g=o(`chart-${ze()}`),x=s((()=>[{k:1,color:"#3F80F7",label:"TOP 10",value:"value1"},{k:2,color:"#12B886",label:"TOP 50",value:"value2"},{k:3,color:"#8D47E7",label:"TOP 100",value:"value3"}])),_=s((()=>b.dataList.map((e=>e.time)))),w=s((()=>x.value.map((e=>({name:e.label,type:"line",smooth:!0,z:1,symbolSize:1,itemStyle:{color:e.color},lineStyle:{width:2},emphasis:{disabled:!0,focus:"series"},areaStyle:e.areaStyle,data:b.dataList.map((l=>({value:l.holders_count*l[e.value],ratio:l[e.value]})))}))))),k=()=>{if(!document.getElementById(g.value))return;let e=n(document.getElementById(g.value));e||(e=p(document.getElementById(g.value),null,{renderer:"svg"})),e.hideLoading(),e.showLoading({maskColor:"rgba(255, 255, 255, 0)",text:""});const l={legend:{show:!0,right:0,itemWidth:10,itemHeight:10,icon:"circle",textStyle:{color:"#787B86",fontSize:12}},title:{textStyle:{color:"light"===f.value?"#333":"#F5F5F5",fontSize:16,fontFamily:"Poppins",fontWeight:400},text:m("holdersChange2",{n:b.activeTime})},tooltip:{trigger:"axis",backgroundColor:"light"===f.value?"#F2F2F2":"#333",textStyle:{fontSize:12,color:"light"===f.value?"#666":"#999",fontFamily:"Poppins"},padding:[6,8],axisPointer:{label:{show:!1}},borderWidth:0,formatter:function(e){let l=`${e[0].name}<br>`;return e.reverse().forEach((e=>{l+=`<div style="display:flex;align-items:center;"><div style="width:75px">${e.marker} ${e.seriesName}</div><div style="color:${"light"===f.value?"#333":"#F5F5F5"};flex:1;text-align:right">${h(e.data.value||0,2)}(${h(Math.abs(100*Number(e.data.ratio)),2)}%)</div><br></div>`})),l},appendToBody:!0},grid:{left:"20",right:"20",top:"40",bottom:"20",containLabel:!0,tooltip:{axisPointer:{type:"line"}}},xAxis:{type:"category",data:_.value,boundaryGap:["0","20"],splitLine:{show:!1},axisTick:{show:!1},axisLabel:{color:"light"===f.value?"#999":"#666",fontFamily:"Poppins",formatter:function(e){const[l,a]=e.split(" ");return`${a}\n${l}`}},nameTextStyle:{fontSize:12},axisLine:{show:!1}},yAxis:{type:"value",position:"right",name:"",nameTextStyle:{fontSize:12},axisLine:{show:!1},axisTick:{show:!1},axisLabel:{color:"light"===f.value?"#999":"#666",fontFamily:"Poppins",formatter:function(e){return h(e,2)}},splitLine:{lineStyle:{type:"dashed",color:"light"===f.value?"#F5F5F5":"#333"},show:!0},min:e=>parseInt(1*e.min),max:e=>Math.ceil(e.max)},series:w.value};e.setOption(l),b.dataList&&b.dataList.length>0&&e.hideLoading()},L=(e,l)=>{const a=n(document.getElementById(g.value));a&&a.dispatchAction({type:e?"legendSelect":"legendUnSelect",name:x.value[l].label})};return i((()=>b.loading),(e=>{const l=n(document.getElementById(g.value));l&&(e?(l.hideLoading(),l.showLoading({maskColor:"rgba(255, 255, 255, 0)",text:""})):l.hideLoading())})),i((()=>b.dataList),(()=>{k()})),i((()=>b.showSeries[0]),(e=>{L(e,0)})),i((()=>b.showSeries[1]),(e=>{L(e,1)})),i((()=>b.showSeries[2]),(e=>{L(e,2)})),i((()=>b.showSeries[3]),(e=>{L(e,3)})),i([f,y],(()=>{k()})),i((()=>b.showLeft),(e=>{setTimeout((()=>{const e=n(document.getElementById(g.value));e&&e.resize()}),100)})),r((()=>{k()})),(e,l)=>(u(),d("div",Je,[c("div",{id:v(g),class:"w-440px h-210px"},null,8,Ze)]))}},[["__scopeId","data-v-7de6821e"]]),el={class:"h-70px flex items-center px-20px font-500 text-20px lh-30px tracking-0% color-[--main-text] border-b-1px border-b-solid border-b-[--border]"},ll={class:"justify-between flex items-center h-80px px-20px"},al={class:"flex items-center"},tl={class:"flex flex-col justify-between ml-8px h-40px"},ol={class:"flex items-center gap-8px h-20px"},sl={class:"font-500 text-16px lh-20px tracking-0px color-[--main-text]"},il={class:"font-500 text-10px lh-20px tracking-0px color-[--third-text]"},nl={class:"flex items-center gap-4px h-14px justify-start"},rl={class:"font-500 text-10px lh-20px tracking-0px color-[--third-text]"},dl={class:"font-400 text-12px lh-14px tracking-0px color-[--main-text]"},ul={class:"flex items-center border-solid border-0.5px color-#999 border-[--border] rounded-4px h-28px"},cl=["onClick"],vl={class:"px-20px py-20px"},pl=b({__name:"rightPop",props:{modelValue:{type:Boolean,default:!1},holdersNum:{type:Number,default:0},activeTime:{type:String,default:"1m"}},emits:["update:modelValue"],setup(e,{emit:t}){const o=t,n=M(H.TOP_FAV_CHANGE),r=f(),{collected:p}=a(y()),{t:m}=l(),b=e,W=g(!1),q=s((()=>[{name:"1m",id:"1m"},{name:"5m",id:"5m"},{name:"1h",id:"1h"},{name:"4h",id:"4h"}])),G=g(b.activeTime),K=g(!1),Q=g([]),Y=g(!1),J=g([]),{token:Z}=a(y()),{evmAddress:X}=a(x()),ee=_(),le=s((()=>{var e,l;const a=r.params.id;return a?w(a):{address:(null==(e=Z.value)?void 0:e.token)||"",chain:(null==(l=Z.value)?void 0:l.chain)||""}}));i((()=>b.activeTime),(e=>{G.value=e}));const ae=s({get:()=>b.modelValue,set(e){o("update:modelValue",e)}}),te=s((()=>X.value||ee.address));const oe=()=>{K.value=!0,Le(le.value.address,le.value.chain,G.value).then((e=>{const l=e||[];l.length?(Ge(l,"holders_count"),Q.value=l.map((e=>({...e,value1:e.holders_count,time:V(new Date(1e3*Number(null==e?void 0:e.time)).getTime(),"MM-DD HH:mm")})))):Q.value=[]})).finally((()=>{K.value=!1})).catch((e=>{Q.value=[]})),Y.value=!0,Se(le.value.address,le.value.chain,G.value).then((e=>{const l=e||[];l.length?(Ge(l,"holders_count"),Ge(l,"top100_ratio"),Ge(l,"top50_ratio"),Ge(l,"top10_ratio"),J.value=l.map((e=>({...e,value3:e.top100_ratio,value2:e.top50_ratio,value1:e.top10_ratio,time:V(new Date(1e3*Number(null==e?void 0:e.time)).getTime(),"MM-DD HH:mm")})))):J.value=[]})).finally((()=>{Y.value=!1})).catch((e=>{J.value=[]}))};function se(){var e,l;z((null==(e=le.value)?void 0:e.address)+"-"+(null==(l=le.value)?void 0:l.chain),te.value).then((e=>{p.value=!!(null==e?void 0:e.address)})).catch((e=>{})).finally((()=>{}))}async function ie(){var e,l;te.value?(ee.address&&await ee.signMessageForFavorite(),p.value?U((null==(e=le.value)?void 0:e.address)+"-"+(null==(l=le.value)?void 0:l.chain),te.value).then((()=>{D.success(m("cancelled1")),p.value=!1,n.emit()})).catch((e=>{})).finally((()=>{})):function(){var e,l;O((null==(e=le.value)?void 0:e.address)+"-"+(null==(l=le.value)?void 0:l.chain),te.value).then((()=>{D.success(m("collected")),p.value=!0,n.emit()})).catch((e=>{})).finally((()=>{}))}()):R()}return i((()=>ae.value),(e=>{e&&(se(),oe())})),i((()=>le.value.address),(e=>{se(),oe()}),{immediate:!0}),(l,a)=>{const t=A,o=B,s=S,i=k("copy");return u(),L(s,{modelValue:v(ae),"onUpdate:modelValue":a[0]||(a[0]=e=>N(ae)?ae.value=e:null),class:"bg-[--dialog-bg]! rounded-tl-10px rounded-bl-10px border-none",size:480,"append-to-body":"","with-header":!1},{default:F((()=>{var a,s,n,r,m,b;return[c("div",el,$(l.$t("holdersAnalysis")),1),c("div",ll,[c("div",al,[C(t,{name:"material-symbols:kid-star",class:T(["color-[--third-text] h-16px w-16px clickable mr-12px",v(p)?"color-#ffbb19":""]),onClick:ie},null,8,["class"]),C(o,{tokenClass:"w-40px h-40px",chainClass:"w-20px h-20px bottom--2px! right--2px!",row:{logo_url:(null==(a=v(Z))?void 0:a.logo_url)||"",chain:(null==(s=v(le))?void 0:s.chain)||""}},null,8,["row"]),c("div",tl,[c("div",ol,[c("span",sl,$(null==(n=v(Z))?void 0:n.symbol),1),c("span",il,$(null==(m=null==(r=v(le))?void 0:r.address)?void 0:m.replace(new RegExp("(.{4})(.+)(.{4}$)"),"$1...$3")),1),E(C(t,{name:"bxs:copy",class:"cursor-pointer text-10px color-[--third-text]"},null,512),[[i,null==(b=v(le))?void 0:b.address]])]),c("div",nl,[c("span",rl,$(l.$t("holdersNumTotal")),1),c("span",dl,$(("formatNumber"in l?l.formatNumber:v(h))(e.holdersNum,4)),1)])])]),c("div",ul,[(u(!0),d(j,null,I(v(q),((e,l)=>(u(),d("span",{key:l,class:T("px-14px py-4px text-12px hover:opacity-80 cursor-pointer "+(e.id===v(G)?"color-[--main-text] bg-[--border]":"")),onClick:l=>function(e){G.value=e,oe()}(e.id)},$(e.name),11,cl)))),128))])]),c("div",vl,[v(Q).length>0||v(K)?(u(),L(Ye,{key:0,class:"w-440px h-210px relative mb-40px!",dataList:v(Q),loading:v(K),showSeries:[!1],showLeft:!1},null,8,["dataList","loading"])):P("",!0),v(J).length>0?(u(),L(Xe,{key:1,class:"w-440px h-210px relative",dataList:v(J),activeTime:v(G),loading:v(Y),showSeries:[!0,!0,!0],showLeft:v(W)},null,8,["dataList","activeTime","loading","showLeft"])):P("",!0)])]})),_:1},8,["modelValue"])}}}),ml={key:0,class:"flex gap-24px"},hl={class:"clickable"},bl={class:"font-400 text-12px lh-16px tracking-0px color-[--third-text] mb-4px flex items-center"},fl={class:"font-500 text-14px lh-16px tracking-0px color-[--main-text]"},yl={class:"clickable"},gl={class:"font-400 text-12px lh-16px tracking-0px color-[--third-text] mb-4px flex items-center"},xl={class:"w-38px"},_l={class:"font-500 text-14px lh-16px tracking-0px color-[--main-text]"},wl={key:1},kl=b({__name:"lineContent",setup(e){const{t:t}=l(),o=f(),{token:n}=a(y());let p;const m=g(!1),b=g(0),x=g(0),_=g(!0),k=g(!1),S=g(!1),F=g([]),B=g(!1),E=g(!1),j=g([]),I=g(0),V=g(["100","10"]),z=g(!1),R=s((()=>V.value[I.value%2])),O=s((()=>{var e,l;const a=o.params.id;return a?w(a):{address:(null==(e=n.value)?void 0:e.token)||"",chain:(null==(l=n.value)?void 0:l.chain)||""}})),D=g(!1);function M(){var e,l;(null==(l=["solana"])?void 0:l.includes(null==(e=O.value)?void 0:e.chain))&&(S.value=!0,Fe(O.value.address,O.value.chain).then((e=>{var l,a;const t=(null==e?void 0:e.token_count_data)||[];t.length?(Ge(t,"holders_count"),b.value=-1===(null==(l=t[t.length-1])?void 0:l.holders_count)?0:null==(a=t[t.length-1])?void 0:a.holders_count,_.value=(new Date).getTime()-1e3*e.create_time<432e5,F.value=t.map((e=>({...e,value1:e.holders_count})))):(b.value=0,_.value=!1,F.value=[])})).finally((()=>{S.value=!1})).catch((e=>{b.value=0,_.value=!1,F.value=[]})),_.value||p&&clearTimeout(p),p=setTimeout((()=>{_.value&&M()}),2e4))}function U(){var e,l;(null==(l=["solana"])?void 0:l.includes(null==(e=O.value)?void 0:e.chain))&&(E.value=!0,Ne(O.value.address,O.value.chain,R.value).then((e=>{var l,a;const t=(null==e?void 0:e.token_holder_ratio)||[];t.length?(Ge(t,"top_n_ratio"),x.value=-1===(null==(l=t[t.length-1])?void 0:l.top_n_ratio)?0:null==(a=t[t.length-1])?void 0:a.top_n_ratio,j.value=t.map((e=>({...e,value1:Number(e.top_n_ratio)*10**8})))):(x.value=0,j.value=[])})).finally((()=>{E.value=!1})).catch((e=>{E.value=!1,x.value=0,j.value=[]})))}function H(){D.value||(p&&clearTimeout(p),M(),U(),D.value=!0)}return W((()=>{H()})),q((()=>{p&&clearTimeout(p),D.value=!1})),G((()=>{p&&clearTimeout(p),D.value=!1})),i((()=>O.value.address),(e=>{D.value=!1,H()}),{immediate:!1}),i((()=>R.value),(e=>{U()})),i((()=>z.value),(e=>{})),r((()=>{H()})),(e,l)=>{var a;const o=A;return(null==(a=["solana"])?void 0:a.includes(v(O).chain))?(u(),d("div",{key:0,class:T(["w-lineLight h-52px w-100% px-10px border-b-1px border-b-solid border-b-[--main-divider] mb-12px",v(z)&&"h-0px! border-b-0px p-0px!"])},[v(z)?P("",!0):(u(),d("ul",ml,[c("li",{class:"flex gap-8px",onClick:l[0]||(l[0]=Q((e=>m.value=!0),["stop"]))},[c("div",hl,[c("div",bl,[K($(v(t)("holdersNum"))+$(v(_)?"(1m)":"(1h)")+" ",1),C(o,{name:"material-symbols:chevron-right-rounded",class:"ml-4px text-14px"})]),c("div",fl,$(("formatNumber"in e?e.formatNumber:v(h))(v(b),4)),1)]),C(qe,{class:"w-120px h-40px",dataList:v(F),loading:v(S),showSeries:[!1,!1],showLeft:v(k)},null,8,["dataList","loading","showLeft"])]),c("li",{class:"flex gap-8px",onClick:l[2]||(l[2]=Q((e=>m.value=!0),["stop"]))},[c("div",yl,[c("div",gl,[c("span",xl," Top"+$(v(R)),1),C(o,{name:"custom:exchange-horizontal",class:"ml-4px color-[--third-text] text-10px clickable",onClick:l[1]||(l[1]=Q((e=>I.value++),["stop"]))}),C(o,{name:"material-symbols:chevron-right-rounded",class:"ml-4px text-14px"})]),c("div",_l,$(`${("formatNumber"in e?e.formatNumber:v(h))(Math.abs(100*Number(v(x))),2)}%`),1)]),C(qe,{class:"w-120px h-40px",dataList:v(j),loading:v(E),showSeries:[!1,!1],showLeft:v(B)},null,8,["dataList","loading","showLeft"])])])),c("div",{class:T(["bg-[--main-list-hover] w-20px h-12px flex items-center justify-center mx-auto cursor-pointer transition-all duration-0.4s",v(z)&&"rotate-z-180 origin-center"]),onClick:l[3]||(l[3]=e=>z.value=!v(z))},[C(o,{name:"material-symbols:keyboard-arrow-up",class:"color-[--main-text]"})],2),v(m)?(u(),L(pl,{key:1,modelValue:v(m),"onUpdate:modelValue":l[4]||(l[4]=e=>N(m)?m.value=e:null),holdersNum:Number(v(b)),activeTime:v(_)?"1m":"1h"},null,8,["modelValue","holdersNum","activeTime"])):P("",!0)],2)):(u(),d("div",wl))}}}),Ll={class:"holderInfo"},Sl={class:"px-12px mb-10px flex justify-between"},Nl={class:"flex items-center whitespace-nowrap overflow-x-auto scrollbar-hide tab-width w-100%"},Fl=["onClick"],$l={class:"section-4"},Cl={class:"line-bar"},Al={class:"flex items-center justify-center"},Tl={key:0},Bl={key:1},El=e(b({__name:"index",setup(e){const n=Y("holderListSortObj",{all:{sort_by:"",order:""},buy:{sort_by:"bought_usd",order:"desc"},sell:{sort_by:"sold_usd",order:"desc"},buy24h:{sort_by:"",order:""},sell24h:{sort_by:"",order:""}}),{price:p,totalHolders:m}=a(y()),{token:b}=a(y()),L=f(),S=x(),N=_(),{t:F}=l(),B=g("all"),P=t(),V=g(""),z=g(!1),R=o({}),O=o({}),D=o({}),M=s((()=>S.evmAddress||N.address)),U=g(""),H=g(""),q=J("holdersRef"),G=s((()=>{const e=[];Array.isArray(m.value)&&m.value.forEach((l=>{const a=l.total_address||0;a>0&&e.push({...l,label:(null==l?void 0:l[Z(X().locale)])+`(${a})`,value:l.type})}));const l=P.headFollowsNum.all-P.headFollowsNum.soldAll;return[{label:F("all"),value:"all"},{label:F("followed")+`(${Number.isNaN(l)?"0":l})`,value:"-100"},{label:F("24hBuyers"),value:"buy24h"},{label:F("24hSellers"),value:"sell24h"},...e]})),Q=s((()=>L.params.id)),te=s((()=>{var e,l;const a=V.value?(null==(e=null==O?void 0:O.value)?void 0:e[B.value])||[]:(null==(l=null==R?void 0:R.value)?void 0:l[B.value])||[];return U.value?"sol"==H.value?(null==a?void 0:a.filter((e=>e.sol_first_transfer_in_from==U.value)))||[]:(null==a?void 0:a.filter((e=>e.token_first_transfer_in_from==U.value)))||[]:a||[]})),oe=s((()=>{var e;return(null==(e=null==D?void 0:D.value)?void 0:e[B.value])||{}})),se=s((()=>{var e,l;return null==(l=null==(e=te.value)?void 0:e.reduce(((e,l)=>{const a=Math.max(((null==l?void 0:l.bought)||0)-((null==l?void 0:l.sold)||0),0);return new ee((p.value||0)-((null==l?void 0:l.avg_purchase_price)||0)).times(a).plus(e)}),new ee("0")))?void 0:l.toFixed(0)})),ie=s((()=>{var e,l;const a=L.params.id;return a?w(a):{address:(null==(e=b.value)?void 0:e.token)||"",chain:(null==(l=b.value)?void 0:l.chain)||""}}));function ne(){R.value[-100]=[],D.value[-100]={}}function re(e){let l="";["all","buy","sell","buy24h","sell24h"].some((e=>B.value===e))||(l=B.value);const a={sort_by:null==e?void 0:e.sort_by,order:null==e?void 0:e.order};a.sort_by||("buy"===B.value?(a.order="asc",a.sort_by="total_profit"):"sell"===B.value?(a.order="desc",a.sort_by="total_profit"):"buy24h"===B.value?(a.order="desc",a.sort_by="bought_usd"):"sell24h"===B.value&&(a.order="desc",a.sort_by="sold_usd"));const t={token_id:Q.value,tag_type:l,self_address:M.value,...a,recent:"buy24h"===B.value||"sell24h"===B.value?1:void 0};n.value[B.value]=a,V.value||(z.value=!0,$e(t).then((e=>{R.value[B.value]=(null==e?void 0:e.holderStats)||[],D.value[B.value]=(null==e?void 0:e.aggregateStats)||{}})).catch((()=>{R.value[B.value]=[]})).finally((()=>{z.value=!1})))}function de(e){var l;re({sort_by:e.prop,order:null==(l=e.order)?void 0:l.replace("ending","")})}function ue(e){U.value?(U.value="",H.value=""):(U.value=e.address||"",H.value=e.type||"")}function ce(e){if(V.value=e||"",!V.value)return void re();let l;["all","buy","sell","buy24h","sell24h"].some((e=>B.value===e))||(l=B.value);const a={token_id:Q.value,self_address:M.value,keyword:V.value,tag_type:l};z.value=!0,Ae(a).then((e=>{O.value[B.value]=Array.isArray(e)?e:[]})).catch((()=>{O.value[B.value]=[]})).finally((()=>{z.value=!1}))}return s((()=>{var e;return null==(e=ie.value)?void 0:e.chain})),i((()=>Q.value),(e=>{e&&re()}),{}),i(B,(e=>{var l,a,t,o;if("buy"===e||"sell"===e){const a="buy"===e?"ascending":"descending";null==(l=null==q?void 0:q.value)||l.sort("total_profit",a)}else if("buy24h"===e||"sell24h"===e){const l="buy24h"===e?"bought_usd":"sold_usd";null==(a=null==q?void 0:q.value)||a.sort(l,"descending")}else if("-100"!==e||M.value){const l=(null==n?void 0:n.value[e])||{};l.sort_by&&l.order?null==(t=null==q?void 0:q.value)||t.sort(l.sort_by,l.order+"ending"):(null==(o=null==q?void 0:q.value)||o.clearSort(),re())}else ne()})),r((()=>{re()})),W((()=>{"-100"!==B.value||M.value?re():ne()})),(e,l)=>{var a,t,o,s,i,n,r,m,b,f,y,g,x,_,w,L,S,N,F,V,R;const O=A,D=k("tooltip");return u(),d("div",Ll,[C(kl),c("div",Sl,[c("div",Nl,[(u(!0),d(j,null,I(v(G),(e=>(u(),d("a",{key:e.value,href:"javascript:;",class:T("decoration-none shrink-0 text-12px lh-16px text-center px-12px py-4px rounded-4px\n         "+(v(B)===e.value?"bg-[--tab-active-bg] color-[--main-text]":"color-[--third-text]")),onClick:l=>{return a=e.value,void(B.value=a);var a}},$(e.label),11,Fl)))),128))])]),E(c("ul",$l,[c("li",null,[c("div",null,$(e.$t("balance1")),1),c("div",{class:T(Number((null==(a=v(oe))?void 0:a.balance)||0)?"":"color-text-2")}," $"+$(("formatNumber"in e?e.formatNumber:v(h))(((null==(t=v(oe))?void 0:t.balance)||0)*(v(p)||0),2)),3)]),c("li",null,[c("div",null,$(e.$t("amount"))+"/"+$(e.$t("largestPosition")),1),c("div",null,[c("span",{class:T(Number((null==(o=v(oe))?void 0:o.balance)||0)?"":"color-text-2")},$(("formatNumber"in e?e.formatNumber:v(h))((null==(s=v(oe))?void 0:s.balance)||0,2)),3),l[0]||(l[0]=c("span",{class:"color-text-2"},"/",-1)),c("span",{class:T(Number((null==(i=v(oe))?void 0:i.largestPosition)||0)?"":"color-text-2")},$(("formatNumber"in e?e.formatNumber:v(h))((null==(n=v(oe))?void 0:n.largestPosition)||0,2)),3)]),c("div",Cl,[c("span",{style:ae({width:100*((null==(r=v(oe))?void 0:r.balance)||0)/((null==(m=v(oe))?void 0:m.largestPosition)||1)+"%"})},null,4)])]),c("li",null,[c("div",null,$(e.$t("buy"))+"/"+$(e.$t("sell")),1),c("div",null,[c("span",{class:T(Number((null==(b=v(oe))?void 0:b.buy)||0)?"color-#12B886":"color-text-2")}," $"+$(("formatNumber"in e?e.formatNumber:v(h))((null==(f=v(oe))?void 0:f.buy)||0,2)),3),l[1]||(l[1]=c("span",{class:"color-text-2"},"/",-1)),c("span",{class:T(Number((null==(y=v(oe))?void 0:y.sell)||0)?"color-#F6465D":"color-text-2")}," $"+$(("formatNumber"in e?e.formatNumber:v(h))((null==(g=v(oe))?void 0:g.sell)||0,2)),3)])]),c("li",null,[c("div",Al,[K($(e.$t("soldAll"))+"/"+$(e.$t("all")),1),E(C(O,{name:"material-symbols:help-outline",class:"ml-4px"},null,512),[[D,e.$t("soldAllTips")]])]),"-100"==v(B)?(u(),d("div",Tl,[c("span",{class:T(Number(v(P).headFollowsNum.soldAll||0)?"":"color-text-2")},$(("formatNumber"in e?e.formatNumber:v(h))(v(P).headFollowsNum.soldAll||0,2)),3),l[2]||(l[2]=c("span",{class:"color-text-2"},"/",-1)),c("span",{class:T(Number((null==(x=v(P).headFollowsNum)?void 0:x.all)||0)?"":"color-text-2")},$(("formatNumber"in e?e.formatNumber:v(h))((null==(_=v(P).headFollowsNum)?void 0:_.all)||0,2)),3)])):(u(),d("div",Bl,[c("span",{class:T(Number((null==(w=v(oe))?void 0:w.soldAll)||0)?"":"color-text-2")},$(("formatNumber"in e?e.formatNumber:v(h))((null==(L=v(oe))?void 0:L.soldAll)||0,2)),3),l[3]||(l[3]=c("span",{class:"color-text-2"},"/",-1)),c("span",{class:T(Number((null==(S=v(oe))?void 0:S.all)||0)?"":"color-text-2")},$(("formatNumber"in e?e.formatNumber:v(h))((null==(N=v(oe))?void 0:N.all)||0,2)),3)]))]),c("li",null,[c("div",null,$(e.$t("totalPnL")),1),c("div",{class:T(Number(v(se)||0)?Number(v(se)||0)>0?"color-#12B886":"color-#F6465D":"color-text-2")},$(Number(v(se)||0)?Number(v(se)||0)>0?"+":"-":"")+"$"+$(null==(F=("formatNumber"in e?e.formatNumber:v(h))(v(se)||0,2))?void 0:F.replace("-","")),3)])],512),[[le,!(null==(R=null==(V=["all"])?void 0:V.includes)?void 0:R.call(V,v(B)))]]),C(Ce,{ref_key:"holdersRef",ref:q,tableList:v(te),loading:v(z),tabActive:v(B),searchOriginKeyword:v(U),searchOriginType:v(H),onHandleSortChange:de,onFilterAddress:ce,onFilterOriginAddress:ue},null,8,["tableList","loading","tabActive","searchOriginKeyword","searchOriginType"])])}}}),[["__scopeId","data-v-793e2042"]]),jl={top100_amount:{color:"#FB6300",areaStyleColor:"#5b3f52",data:"top100_amount"},16:{color:"#D741E3",areaStyleColor:"#ac3eec33",data:"insider_balance_ratio"},19:{color:"#3F80F7",areaStyleColor:"#3F80F733",data:"sniper_balance_ratio"},25:{color:"#41CEE3",areaStyleColor:"#749f8333",data:"dev_balance_ratio"},30:{color:"#C23531",areaStyleColor:"#c2353133",data:"smartmoney_balance_ratio"},31:{color:"#5E5CE6",areaStyleColor:"#5e5ce61a",data:"kol_balance_ratio"}};function Il(e){return jl[e]||""}const Pl={class:"chart-container"},Vl="chart_holder",zl=e(b({__name:"lineChart",props:{dataList:{},showSeries:{},loading:{type:Boolean},chartHeight:{}},setup(e){te([Ve,oe,se,ie,ne,re]);const o=e;let n=null;const v=f(),{t:m}=l(),{token:b}=a(y()),{globalConfig:g}=a(de()),{mode:x}=a(t()),_=t(),k=s((()=>X().locale)),L=s((()=>{var e,l;let a=[];const{chain:t}=w(v.params.id)||(null==(e=null==b?void 0:b.value)?void 0:e.chain)||"",o=null==(l=g.value)?void 0:l.chains_support_data_analysis_insider_sniper_V3,s=(null==o?void 0:o[t])||[];return s&&(a=s.map(((e,l)=>{var a,t,o;return{k:l,color:(null==(a=Il(e.type))?void 0:a.color)||"",label:(null==e?void 0:e[Z(k.value)])||"",value:(null==(t=Il(e.type))?void 0:t.data)||"",color1:(null==(o=Il(e.type))?void 0:o.areaStyleColor)||""}}))),[{k:4,color:"#FFCC00",label:m("topN",{n:10})+m("ratio"),value:"top10_amount",color1:"#38497d"},{k:2,color:"#FB6300",label:m("topN",{n:100})+m("ratio"),value:"top100_amount",color1:"#5b3f52"},...a]})),S=s((()=>o.dataList.map((e=>e.date)))),N=s((()=>L.value.map(((e,l)=>({name:e.label,type:"line",z:10-l,smooth:!0,symbol:"none",itemStyle:{color:e.color},lineStyle:{width:2},emphasis:{disabled:!0,focus:"series"},tooltip:{valueFormatter:e=>`${h(e||0,2)}%`,textStyle:{fontSize:10,color:"#333"}},data:o.dataList.map((l=>["insider_balance_ratio","sniper_balance_ratio","dev_balance_ratio","smartmoney_balance_ratio","kol_balance_ratio"].includes(e.value)?e.value&&100*(null==l?void 0:l[e.value])||0:l.total_amount?100*l[e.value]/l.total_amount:0))})))));function F(){const e=document.getElementById(Vl);e&&(n||(n=p(e)),null==n||n.setOption({legend:{show:!1},tooltip:{trigger:"axis",backgroundColor:"var(--dialog-bg)",textStyle:{fontSize:10,color:"var(--secondary-text)",fontFamily:"Outfit-Medium"},borderWidth:0},grid:{left:"0",right:"25px",top:"3%",bottom:"0",containLabel:!0},xAxis:{type:"category",data:S.value,boundaryGap:!1,splitLine:{show:!1},axisLine:{show:!1},axisTick:{show:!1},axisLabel:{color:"light"===x.value?"#8ca0c3":"#566275",fontFamily:"Outfit-Medium"}},yAxis:{type:"value",axisLine:{show:!1},axisTick:{show:!1},axisLabel:{color:"light"===x.value?"#8ca0c3":"#566275",fontFamily:"Outfit-Medium",formatter:"{value}%"},splitLine:{show:!1},min:0,max:e=>Math.ceil(e.max)},series:N.value}),o.dataList.length>0&&(null==n||n.hideLoading()))}return r((()=>{ue((()=>{F()}))})),i((()=>_.showLeft),(async()=>{await ue(),null==n||n.resize()})),i((()=>o.dataList),(()=>F())),i((()=>o.loading),(e=>{n&&(e?n.showLoading({maskColor:"rgba(255,255,255,0)",text:""}):n.hideLoading())})),o.showSeries.forEach(((e,l)=>{i((()=>o.showSeries[l]),(e=>{!function(e,l){var a;const t=null==(a=L.value[l])?void 0:a.label;n&&t&&n.dispatchAction({type:e?"legendSelect":"legendUnSelect",name:t})}(e,l)}))})),i((()=>x),(()=>F())),(e,l)=>{const a=ce;return E((u(),d("div",Pl,[c("div",{id:Vl,style:ae({height:e.chartHeight||"162px",width:"100%"})},null,4)])),[[a,e.loading]])}}}),[["__scopeId","data-v-129a0e6c"]]),Rl={class:"home-content"},Ol={class:"tableBox card relative"},Dl={key:0,class:"flex flex-col items-center justify-center py-30px"},Ml={key:0,src:me},Ul={key:1,src:he},Hl={key:1},Wl={key:0},ql={key:1,style:{color:"#f6465d"}},Gl={class:"flex-end gap-3px"},Kl=["onClick"],Ql=e(b({__name:"insidersHold",props:{tableList:{},loading:{type:Boolean},type:{}},setup(e){const n=y(),r=e,p=f(),{t:m}=l(),{mode:b}=a(t()),g=t(),k=o([]),S=o(0),B=o(!1),j=o(),I=o(),V=o({buttonRefs:{}}),z=s((()=>r.loading)),R=s((()=>{var e;return null==(e=w(p.params.id))?void 0:e.chain})),O=s((()=>Math.max(n.commonHeight-400,450))),M=o({page:1,page_size:300,sort:"",direction:""});i((()=>r.tableList),(e=>{k.value=e}),{immediate:!0});function U({prop:e,order:l}){const a=[...r.tableList];e&&(k.value="ascending"===l?a.sort(((l,a)=>l[e]-a[e])):"descending"===l?a.sort(((l,a)=>a[e]-l[e])):a)}function H(e){}return(e,l)=>{const a=Me,t=A,o=De,s=ce;return u(),d("section",Rl,[c("div",Ol,[E((u(),L(o,{key:v(S),ref_key:"tableRef",ref:I,data:v(k),fit:"",height:v(O),style:{width:"100%","font-size":"12px"},class:"table-container","cell-class-name":"color-[--secondary-text] text-12px","default-sort":{prop:v(M).sort,order:v(M).direction?v(M).direction+"ending":void 0},onRowClick:H,onSortChange:U},{empty:F((()=>[e.loading?(u(),d("span",Hl)):(u(),d("div",Dl,["light"===v(b)?(u(),d("img",Ml)):P("",!0),"dark"===v(b)?(u(),d("img",Ul)):P("",!0),c("span",null,$(v(m)("emptyNoData")),1)]))])),default:F((()=>[C(a,{type:"index",label:"#",width:"40"}),C(a,{label:v(m)("insidersOwned"),sortable:"custom","sort-orders":["descending","ascending",null],prop:"total_value","min-width":"100",align:"right"},{default:F((({row:l})=>[(null==l?void 0:l.balance_ratio)>0&&(null==l?void 0:l.balance)>0||"snipers"!==e.type?(u(),d("span",Wl,$(v(h)(l.total_value||0,2))+" ("+$(v(h)(100*l.balance_ratio||0,2))+"%) ",1)):(u(),d("span",ql,$(v(m)("clearance")),1))])),_:1},8,["label"]),C(a,{label:v(m)("buy")+"($)",sortable:"custom","sort-orders":["descending","ascending",null],prop:"cumulative_purchase",align:"right"},{default:F((({row:e})=>[c("span",{style:ae({color:v(ve)[0]})},$(v(h)(e.cumulative_purchase||0,2)),5)])),_:1},8,["label"]),C(a,{label:v(m)("sell")+"($)",sortable:"custom","sort-orders":["descending","ascending",null],prop:"cumulative_sold",align:"right"},{default:F((({row:e})=>[c("span",{style:ae({color:v(pe)[0]})},$(v(h)(e.cumulative_sold||0,2)),5)])),_:1},8,["label"]),C(a,{label:v(m)("insidersBalance1")+"($)",sortable:"custom","sort-orders":["descending","ascending",null],prop:"balance",align:"right"},{default:F((({row:e})=>[K($(v(h)(e.balance||0,2)),1)])),_:1},8,["label"]),C(a,{label:v(m)("address"),sortable:"custom","sort-orders":["descending","ascending",null],prop:"address","min-width":"100",align:"right"},{default:F((({row:e,$index:a})=>{var o,s;return[c("div",Gl,[c("span",null,$(null==(o=e.address)?void 0:o.slice(0,2))+"..."+$(null==(s=e.address)?void 0:s.slice(-4)),1),"solana"===v(R)?(u(),d("a",{key:0,class:"ml-5 a-gray",onClick:Q((e=>{}),["stop","prevent"])},l[1]||(l[1]=[c("i",{class:"iconfont icon-wallet1 font-12"},null,-1)]),8,Kl)):P("",!0),C(t,{ref:e=>v(V).buttonRefs[a]=e,name:"custom:attention",class:T([e.is_wallet_address_fav?"color-[#F45469]":"color-[--third-text]","color-var(--d-999-l-666) text-14px clickable shrink-0"]),onClick:Q((l=>(async(e,l)=>{be().currentAddress||x().changeConnectVisible(!0),_().address&&!_().walletSignature[_().address]&&await _().signMessageForFavorite(),!0===e.is_wallet_address_fav?ye({address:be().currentAddress,user_address:e.address,user_chain:R.value}).then((()=>{g.getFollowsNum(),D.success(m("attention1Canceled")),k.value[l].is_wallet_address_fav=!1})).catch((e=>{})).finally((()=>{})):be().confirmAttention(V.value.buttonRefs[l],e.chain,(a=>fe({address:be().currentAddress,user_address:e.address,user_chain:R.value,group:a.group,is_monitored:a.is_monitored}).then((e=>(g.getFollowsNum(),k.value[l].is_wallet_address_fav=!0,Promise.resolve(e)))).catch((e=>Promise.reject(e))).finally((()=>{}))))})(e,a)),["stop","prevent"])},null,8,["class","onClick"]),C(t,{name:"custom:filter",class:"color-[--third-text] cursor-pointer text-10px",onClick:l=>function(e){var l;B.value=!0,null==(l=j.value)||l.getUserTxs(e.address)}(e)},null,8,["onClick"])])]})),_:1},8,["label"])])),_:1},8,["data","height","default-sort"])),[[s,v(z)]])]),C(Te,{ref_key:"profitLossRef",ref:j,modelValue:v(B),"onUpdate:modelValue":l[0]||(l[0]=e=>N(B)?B.value=e:null)},null,8,["modelValue"])])}}}),[["__scopeId","data-v-ebabcaaf"]]),Yl={class:"home-content"},Jl={class:"tableBox card relative"},Zl={key:0,class:"flex flex-col items-center justify-center py-30px"},Xl={key:0,src:me},ea={key:1,src:he},la={key:1},aa={class:"color-text-2"},ta={class:"color-text-2"},oa={class:"block"},sa={class:"color-text-2"},ia={class:"color-text-2"},na={class:"flex-end gap-3px"},ra={class:"color-text-2"},da=e(b({__name:"insidersActivity",props:{tableList:{},loading:{type:Boolean}},setup(e){const n=e;o({buttonRefs:{}});const r=y(),p=f(),{mode:m}=a(t()),{t:b}=l(),{token:g}=a(y()),x=o(),_=o(0),k=o([]),S=s((()=>n.loading??!1)),N=s((()=>{var e,l;const a=p.params.id;return a?w(a):{address:(null==(e=g.value)?void 0:e.token)||"",chain:(null==(l=g.value)?void 0:l.chain)||""}})),A=s((()=>Math.max(r.commonHeight-400,450)));i((()=>n.tableList),(e=>{k.value=e}),{immediate:!0});const T=(e,l)=>e===(null==l?void 0:l.type),B=e=>{const l=ge(N.value.chain,e.txhash,"tx");window.open(l)},I=e=>["BUY","TRANSFER_IN","ADD"].includes(e)?ve[0]:pe[0],z=s((()=>{const e=R.value.direction;return{prop:R.value.sort,order:"asc"===e?"ascending":"desc"===e?"descending":void 0}})),R=o({page:1,page_size:300,sort:"",direction:void 0}),O=({prop:e,order:l})=>{if(!e)return;const a=[...n.tableList];k.value="ascending"===l?a.sort(((l,a)=>l[e]-a[e])):"descending"===l?a.sort(((l,a)=>a[e]-l[e])):a},D=s((()=>[{text:b("buy").toUpperCase(),value:"BUY"},{text:b("sell").toUpperCase(),value:"SELL"},{text:b("addPool"),value:"ADD"},{text:b("removePool"),value:"REMOVE"},{text:b("transferIn1"),value:"TRANSFER_IN"},{text:b("transferOut1"),value:"TRANSFER_OUT"}])),M=s((()=>D.value.map((e=>e.value))));return(e,l)=>{const a=Me,t=De,o=ce;return u(),d("section",Yl,[c("div",Jl,[E((u(),L(t,{key:v(_),ref_key:"tableRef",ref:x,data:v(k),fit:"",style:{width:"100%","font-size":"12px"},class:"table-container",height:v(A),"cell-class-name":"color-[--d-999-l-959A9F] text-12px","default-sort":v(z),onRowClick:B,onSortChange:O},{empty:F((()=>[e.loading?(u(),d("span",la)):(u(),d("div",Zl,["light"===v(m)?(u(),d("img",Xl)):P("",!0),"dark"===v(m)?(u(),d("img",ea)):P("",!0),c("span",null,$(v(b)("emptyNoData")),1)]))])),default:F((()=>[C(a,{label:e.$t("time"),prop:"time",sortable:"custom","sort-orders":["descending","ascending",null],align:"left"},{default:F((({row:e})=>[c("span",aa,$(v(V)(e.time)),1)])),_:1},8,["label"]),C(a,{label:e.$t("type"),"column-key":"op",filters:v(D),"filter-method":T,"filtered-value":v(M),align:"right"},{default:F((({row:e})=>{return[c("span",{style:ae({color:I(null==e?void 0:e.type)})},$((l=null==e?void 0:e.type,{BUY:b("buy").toUpperCase(),SELL:b("sell").toUpperCase(),ADD:b("addPool"),REMOVE:b("removePool"),TRANSFER_IN:b("transferIn1"),TRANSFER_OUT:b("transferOut1")}[l]||"")),5)];var l})),_:1},8,["label","filters","filtered-value"]),C(a,{label:e.$t("amount"),prop:"base_token_amount",sortable:"custom","sort-orders":["descending","ascending",null],align:"right"},{default:F((({row:e})=>["ADD"===(null==e?void 0:e.type)||"REMOVE"===(null==e?void 0:e.type)?(u(),d(j,{key:0},[K($(v(h)(null==e?void 0:e.base_token_amount,0))+" ",1),c("span",ta,$(null==e?void 0:e.base_token_symbol),1),c("span",oa,[K($(v(h)(null==e?void 0:e.quote_token_amount,0))+" ",1),c("span",sa,$(null==e?void 0:e.quote_token_symbol),1)])],64)):(u(),d(j,{key:1},[K($(v(h)(null==e?void 0:e.base_token_amount,0))+" ",1),c("span",ia,$(null==e?void 0:e.base_token_symbol),1)],64))])),_:1},8,["label"]),C(a,{label:e.$t("value")+"($)",prop:"volume",sortable:"custom","sort-orders":["descending","ascending",null],align:"right"},{default:F((({row:e})=>[c("span",{style:ae({color:I(null==e?void 0:e.type)})},$(v(h)(null==e?void 0:e.volume,2)),5)])),_:1},8,["label"]),C(a,{label:e.$t("address"),prop:"address",sortable:"custom","sort-orders":["descending","ascending",null],align:"right"},{default:F((({row:e,$index:l})=>{var a,t;return[c("div",na,[c("span",ra,$(null==(a=e.wallet_address)?void 0:a.slice(0,2))+"..."+$(null==(t=e.wallet_address)?void 0:t.slice(-4)),1)])]})),_:1},8,["label"])])),_:1},8,["data","height","default-sort"])),[[o,v(S)]])])])}}}),[["__scopeId","data-v-eba936f2"]]),ua={class:"insiders"},ca={class:"top mt-10px"},va={class:"item"},pa={class:"tl"},ma={class:"flex-start"},ha={class:"tr"},ba={class:"flex-end"},fa={class:"mt-10px"},ya={class:"item"},ga={class:"tl"},xa={class:"block"},_a={class:"flex-start"},wa={class:"tr"},ka={class:"block"},La={class:"list mt-10px"},Sa={class:"flex"},Na={class:"tabs",style:{"margin-right":"auto"}},Fa=["id","value"],$a=["for"],Ca=e(b({__name:"insiders",props:{insidersObj:{type:Object,default:()=>{}},type:{type:String,default:"insiders"}},setup(e){const{t:a}=l(),t=e,o=f(),n=g("holder"),r=g(!1),p=g([]),m=g(!1),b=g([]),y=g(!1),{insidersObj:x,type:_}=xe(t),w=s((()=>[{name:a("insidersHoldings"),id:"holder"},{name:a("insidersActivity"),id:"dongtai"}])),k=s((()=>o.params.id)),S=s((()=>{var e,l;return"19"===_.value&&r.value?(null==(l=null==(e=null==p?void 0:p.value)?void 0:e.filter)?void 0:l.call(e,(e=>!((null==e?void 0:e.balance_ratio)>0&&(null==e?void 0:e.balance)>0))))||[]:p.value}));function C(){"100"!==_.value&&"holder"==n.value&&function(){m.value=!0;const e={token_id:k.value,type:_.value};Be(e).then((e=>{p.value=Array.isArray(e)?e:[]})).catch((()=>{})).finally((()=>{m.value=!1}))}(),"100"!==_.value&&"dongtai"==n.value&&function(){y.value=!0;const e={token_id:k.value,type:_.value};Ee(e).then((e=>{b.value=Array.isArray(e)?e.map((e=>({...e,time:"1970-01-01T00:00:00Z"!==(null==e?void 0:e.time)&&"0001-01-01T00:00:00Z"!==(null==e?void 0:e.time)?new Date(null==e?void 0:e.time).getTime()/1e3:0,volume:"ADD"===(null==e?void 0:e.type)||"REMOVE"===(null==e?void 0:e.type)?(null==e?void 0:e.quote_token_amount)*e.quote_token_price_u+(null==e?void 0:e.base_token_amount)*(null==e?void 0:e.base_token_price_u):(null==e?void 0:e.base_token_amount)*(null==e?void 0:e.base_token_price_u)}))):[]})).catch((()=>{})).finally((()=>{y.value=!1}))}()}return i((()=>k.value),(()=>{C()})),i(n,(()=>{C()})),i(_,(()=>{C()})),(e,l)=>{var a,t,o,s,i,p,f,g,k,C,A,T,B,V,z;const R=we;return u(),d("div",ua,[c("div",ca,[c("div",null,[c("div",va,[c("div",pa,[c("span",null,$(e.$t("insidersBalance"))+"  "+$(e.$t("insidersPosition")),1),c("div",ma,[K(" $"+$(v(h)(null==(a=v(x))?void 0:a.balance,0))+"   "+$((null==(t=v(x))?void 0:t.balance_ratio_cur)?v(h)(100*(null==(o=v(x))?void 0:o.balance_ratio_cur)||0,2)+"%":0)+" ",1),l[2]||(l[2]=c("span",{class:"color-878FBC"},"/",-1)),K(" "+$((null==(s=v(x))?void 0:s.balance_ratio_max)?v(h)(100*(null==(i=v(x))?void 0:i.balance_ratio_max),2)+"%":0),1)])]),c("div",ha,[c("span",null,$(e.$t("insidersBuyOrSell")),1),c("div",ba,[c("span",{style:ae({color:v(ve)[0]})}," $"+$(v(h)((null==(p=v(x))?void 0:p.vol_buy)||0,2)),5),l[3]||(l[3]=c("span",{class:"color-878FBC"},"/",-1)),c("span",{style:ae({color:v(pe)[0]})}," $"+$(v(h)(null==(f=v(x))?void 0:f.vol_sell,2)),5)])])])]),c("div",fa,[c("div",ya,[c("div",ga,[c("span",xa,$(e.$t("snipersAddress")),1),c("div",_a,[K($((null==(g=v(x))?void 0:g.unsettled_addresses)?v(h)((null==(k=v(x))?void 0:k.unsettled_addresses)||0,2):0)+" ",1),l[4]||(l[4]=c("span",{class:"color-878FBC"},"/",-1)),K(" "+$((null==(C=v(x))?void 0:C.all_addresses)?v(h)(null==(A=v(x))?void 0:A.all_addresses,2):0),1)])]),c("div",wa,[c("span",ka,$(e.$t("insidersProfit")),1),c("span",{style:ae({color:(null==(T=v(x))?void 0:T.vol_profit)>0?v(ve)[0]:v(pe)[0]})},[K(" $"+$(v(h)((null==(B=v(x))?void 0:B.vol_profit)||0,2))+" ",1),(null==(V=v(x))?void 0:V.vol_profit_ratio)?(u(),d(j,{key:0},[K(" ("+$(v(h)(100*(null==(z=v(x))?void 0:z.vol_profit_ratio)||0,2))+"%) ",1)],64)):P("",!0)],4)])])])]),c("div",La,[c("div",Sa,[c("div",Na,[(u(!0),d(j,null,I(v(w),((e,a)=>(u(),d(j,{key:a},[E(c("input",{id:`tab-item-${e.id}`,"onUpdate:modelValue":l[0]||(l[0]=e=>N(n)?n.value=e:null),type:"radio",value:e.id,class:"tab-radio-input"},null,8,Fa),[[_e,v(n)]]),c("label",{for:`tab-item-${e.id}`,class:"tab-item"},$(e.name),9,$a)],64)))),128))]),"19"===v(_)&&"holder"===v(n)?(u(),L(R,{key:0,modelValue:v(r),"onUpdate:modelValue":l[1]||(l[1]=e=>N(r)?r.value=e:null),class:"checkbox-old",style:{"--van-checkbox-label-color":"#878ebe","--van-checkbox-label-margin":"5px","font-size":"12px","margin-right":"15px"},"icon-size":"14px"},{default:F((()=>[K($(e.$t("cleared")),1)])),_:1},8,["modelValue"])):P("",!0)])]),"holder"===v(n)?(u(),L(Ql,{key:0,tableList:v(S),loading:v(m),type:v(_)},null,8,["tableList","loading","type"])):(u(),L(da,{key:1,tableList:v(b),loading:v(y)},null,8,["tableList","loading"]))])}}}),[["__scopeId","data-v-4ed598bf"]]),Aa={class:"holderInfoOld px-12px"},Ta={class:"title text-12px color-[--main-text]"},Ba={class:"color-[--third-text]"},Ea={class:"checkbox-container checkbox-old mt-10px"},ja={class:"title flex items-center justify-between mt-20px mb-10px"},Ia={class:"text-12px color-[--main-text]"},Pa={class:"tabs"},Va=["onClick"],za={key:0,class:"flex flex-col items-center justify-center py-30px"},Ra={key:0,src:me},Oa={key:1,src:he},Da={key:1},Ma={class:"flex-end"},Ua={class:"ml-3px"},Ha=e(b({__name:"index",setup(e){const n=y(),p=f(),{t:m}=l(),{mode:b}=a(t()),k=x(),S=o([!0,!0,!0,!0,!0,!0,!0]),B=o({buttonRefs:{}}),V=t(),{globalConfig:z}=a(de()),{token:R,totalHolders:O,price:M}=a(y()),U=g(!1),H=o([]),W=g(!1),q=g("100"),G=o([]),Y=g(!1),J=o({token:"",date:void 0,balance:0,balance_ratio_cur:0,balance_ratio_max:0,vol_buy:0,vol_sell:0,unsettled_addresses:0,all_addresses:0,vol_profit:0,vol_profit_ratio:0}),ee=g(!1),te=o(),oe=s((()=>{var e;const l=se.value.chain,a=null==(e=z.value)?void 0:e.chains_support_data_analysis_insider_sniper_V3,t=(null==a?void 0:a[l])||[];return(null==t?void 0:t.map((e=>{var l;return{...e,color:null==(l=Il(e.type))?void 0:l.color}})))||[]})),se=s((()=>{var e,l;const a=p.params.id;return a?w(a):{address:(null==(e=R.value)?void 0:e.token)||"",chain:(null==(l=R.value)?void 0:l.chain)||""}})),ie=s((()=>X().locale)),ne=s((()=>p.params.id)),re=s((()=>{var e;return[{cn:m("topN",{n:100}),en:m("topN",{n:100}),tw:m("topN",{n:100}),pt:m("topN",{n:100}),es:m("topN",{n:100}),type:"100"},...(null==(e=O.value)?void 0:e.filter((e=>((null==e?void 0:e.total_address)||0)>0)))||{}]})),ue=s((()=>G.value.slice(0,Number(q.value)||200))),me=s((()=>Math.max(n.commonHeight-380,355)));function he(){"100"===q.value?(W.value=!0,je(ne.value).then((e=>{H.value=Array.isArray(e)?null==e?void 0:e.map((e=>{var l;return{...e,date:null==(l=null==e?void 0:e.date)?void 0:l.slice(5)}})):[]})).catch((()=>{})).finally((()=>{W.value=!1})),ge()):ke()}i((()=>ne.value),(e=>{e&&he()})),r((()=>{he()}));function ge(){Y.value=!0;const e={token_id:ne.value,address:k.evmAddress};Ie(e).then((e=>{G.value=Array.isArray(e)?null==e?void 0:e.map((e=>{var l;return{...e,newTags:null==(l=null==e?void 0:e.newTags)?void 0:l.filter((e=>!new RegExp("^top.*$","gi").test(null==e?void 0:e.type)))}})):[]})).catch((()=>{})).finally((()=>{Y.value=!1}))}function xe(e){return(null==e?void 0:e.amount_diff_3days)*((null==M?void 0:M.value)||0)+(null==e?void 0:e.sell_volume_diff_3days)-(null==e?void 0:e.buy_volume_diff_3days)}function _e(){}function ke(){ee.value=!0;const e={token_id:ne.value,type:q.value};Pe(e).then((e=>{J.value=e})).catch((()=>{})).finally((()=>{ee.value=!1}))}return(e,l)=>{const a=we,t=Re,o=Me,s=Ue,i=A,n=De,r=Oe,p=ce;return u(),d("div",Aa,[C(r,{gutter:10},{default:F((()=>[C(t,{span:24},{default:F((()=>[c("div",Ta,[K($(e.$t("holdersDetail"))+" ",1),c("span",Ba,"("+$(e.$t("excludeNullAndPoll"))+")",1)]),c("div",Ea,[C(a,{modelValue:v(S)[0],"onUpdate:modelValue":l[0]||(l[0]=e=>v(S)[0]=e),class:"checkbox-FFCC00"},{default:F((()=>[K($(e.$t("topN",{n:10})),1)])),_:1},8,["modelValue"]),C(a,{modelValue:v(S)[1],"onUpdate:modelValue":l[1]||(l[1]=e=>v(S)[1]=e),class:"checkbox-FFB6300"},{default:F((()=>[K($(e.$t("topN",{n:100})),1)])),_:1},8,["modelValue"]),(u(!0),d(j,null,I(v(oe),((e,l)=>{var t;return u(),L(a,{key:l,modelValue:v(S)[l+2],"onUpdate:modelValue":e=>v(S)[l+2]=e,shape:"square","checked-color":e.color,class:T(`checkbox-${null==(t=null==e?void 0:e.color)?void 0:t.replace("#","")}`)},{default:F((()=>[K($(null==e?void 0:e[v(Z)(v(ie))]),1)])),_:2},1032,["modelValue","onUpdate:modelValue","checked-color","class"])})),128))]),C(zl,{dataList:v(H),showSeries:v(S),loading:v(W),chartHeight:"162px"},null,8,["dataList","showSeries","loading"])])),_:1}),C(t,{span:24},{default:F((()=>[c("div",ja,[c("span",Ia,$(e.$t("mainChip")),1),c("div",Pa,[(u(!0),d(j,null,I(v(re),((l,a)=>(u(),d("span",{key:a,class:T(["tab-item",{active:l.type==v(q)}]),onClick:Q((e=>function(e){q.value=e.type,"100"==e.type?ge():ke()}(l)),["stop","prevent"])},[K($(null==l?void 0:l[v(Z)(v(ie))])+" ",1),void 0!==(null==l?void 0:l.total_address)?(u(),d(j,{key:0},[K(" ("+$(("formatNumber"in e?e.formatNumber:v(h))((null==l?void 0:l.total_address)||0,0))+") ",1)],64)):P("",!0)],10,Va)))),128))])]),E((u(),L(n,{ref:"tableRef",class:"mt-15px","cell-class-name":"text-12px",data:v(ue),fit:"",height:v(me),style:{width:"100%","font-size":"12px"},onRowClick:_e},{empty:F((()=>[v(Y)?(u(),d("span",Da)):(u(),d("div",za,["light"===v(b)?(u(),d("img",Ra)):P("",!0),"dark"===v(b)?(u(),d("img",Oa)):P("",!0),c("span",null,$(v(m)("emptyNoData")),1)]))])),default:F((()=>[C(o,{type:"index",label:"#",width:"50"}),C(o,{label:e.$t("ratio"),prop:"time",align:"right"},{default:F((({row:e})=>{return[K($((l=e,Number(null==(a=null==R?void 0:R.value)?void 0:a.total)?h(100*l.amount_cur/Number(null==(t=null==R?void 0:R.value)?void 0:t.total),2)+"%":"-")),1)];var l,a,t})),_:1},8,["label"]),C(o,{label:e.$t("position"),prop:"time",align:"right"},{default:F((({row:l})=>[K($(("formatNumber"in e?e.formatNumber:v(h))(null==l?void 0:l.amount_cur,2)),1)])),_:1},8,["label"]),C(o,{label:e.$t("Change3D"),prop:"time",align:"right"},{default:F((({row:l})=>[c("span",{style:ae({color:l.amount_diff_3days>0?v(ve)[0]:v(pe)[0]})},$(("formatNumber"in e?e.formatNumber:v(h))(null==l?void 0:l.amount_diff_3days,2)),5)])),_:1},8,["label"]),C(o,{label:e.$t("profit1")+"($)",prop:"time",align:"right"},{default:F((({row:l})=>[c("span",{style:ae({color:xe(l)>0?v(ve)[0]:v(pe)[0]})},$(("formatNumber"in e?e.formatNumber:v(h))(xe(l),2)),5)])),_:1},8,["label"]),C(o,{label:e.$t("address"),align:"right"},{default:F((({row:e,$index:l})=>{var a;return[c("div",Ma,[C(s,{tags:e.newTags,walletAddress:e.address,chain:e.chain},null,8,["tags","walletAddress","chain"]),c("span",Ua," *"+$(null==(a=e.address)?void 0:a.slice(-6)),1),C(i,{ref:e=>v(B).buttonRefs[l]=e,name:"custom:attention",class:T([1===e.is_wallet_address_fav?"color-[#F45469]":"color-[--third-text]","color-var(--d-999-l-666) h-16px w-16px clickable shrink-0 ml-3px"]),onClick:Q((a=>(async(e,l)=>{be().currentAddress||x().changeConnectVisible(!0),_().address&&!_().walletSignature[_().address]&&await _().signMessageForFavorite(),1===e.is_wallet_address_fav?ye({address:be().currentAddress,user_address:e.address,user_chain:e.chain}).then((()=>{V.getFollowsNum(),D.success(m("attention1Canceled")),ue.value[l].is_wallet_address_fav=0})).catch((e=>{})).finally((()=>{})):be().confirmAttention(B.value.buttonRefs[l],e.chain,(a=>fe({address:be().currentAddress,user_address:e.address,user_chain:e.chain,group:a.group,is_monitored:a.is_monitored}).then((e=>(V.getFollowsNum(),ue.value[l].is_wallet_address_fav=1,Promise.resolve(e)))).catch((e=>Promise.reject(e))).finally((()=>{}))))})(e,l)),["stop","prevent"])},null,8,["class","onClick"]),C(i,{name:"custom:filter",class:"color-[--third-text] cursor-pointer text-10px ml-3px",onClick:l=>function(e){var l;U.value=!0,null==(l=te.value)||l.getUserTxs(e.address)}(e)},null,8,["onClick"])])]})),_:1},8,["label"])])),_:1},8,["data","height"])),[[le,"100"==v(q)],[p,v(Y)]]),E(C(Ca,{insidersObj:v(J),type:v(q)},null,8,["insidersObj","type"]),[[le,"100"!==v(q)]])])),_:1})])),_:1}),C(Te,{ref_key:"profitLossRef1",ref:te,modelValue:v(U),"onUpdate:modelValue":l[2]||(l[2]=e=>N(U)?U.value=e:null)},null,8,["modelValue"])])}}}),[["__scopeId","data-v-32866d05"]]),Wa={__name:"index",setup(e){const l=f(),a=s((()=>{var e;const{chain:a}=w(null==(e=l.params)?void 0:e.id,0);return ke.includes(a)}));return(e,l)=>v(a)?(u(),L(v(El),{key:0})):(u(),L(v(Ha),{key:1}))}};export{Wa as default};
